<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Agentic_Design_Patterns/notebooks/Chapter 11_ Goal Setting and Monitoring (Goal_Setting_Iteration).ipynb at main</title>
    <style>
        
        :root {
          --c-indigo-1: #3451b2;
          --c-indigo-2: #3a5ccc;
          --c-indigo-3: #5672cd;
          --c-green: #1a7f37;
          --c-red: #c53030;
          --c-yellow: #9a6700;
          --c-dir: #54aeff;
          --c-gray-soft: rgba(142, 150, 170, .14);
          --c-bg: #ffffff;
          --c-bg-alt: #f6f6f7;
          --c-bg-elv: #ffffff;
          --c-text-1: rgba(60, 60, 67);
          --c-text-2: rgba(60, 60, 67, .78);
          --c-text-3: rgba(60, 60, 67, .56);
          --c-border: #c2c2c4;
          --c-divider: #e2e2e3;
        }

        

        :root {
          --c-brand-1: var(--c-indigo-1);
          --c-brand-2: var(--c-indigo-2);
          --c-brand-3: var(--c-indigo-3);
          --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
          --font-family-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
          --code-line-height: 20px;
          --code-font-size: 12px;
          --code-color: var(--c-brand-1);
          --code-bg: var(--c-gray-soft);
          --code-block-bg: var(--c-bg-alt);
          --code-block-color: var(--c-text-1);
          --header-height: 46px;
          --border-radius: 6px;
          --max-content-width: 1470px;
        }

        * {
          box-sizing: border-box;
        }

        body {
          margin: 0;
          padding: 0;
          font-family: var(--font-family), sans-serif;
          font-size: 14px;
          line-height: 1;
          color: var(--c-text-1);
          background-color: var(--c-bg);
          text-rendering: optimizeLegibility;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          -moz-text-size-adjust: none;
          -webkit-text-size-adjust: none;
          text-size-adjust: none;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
        }

        .nowrap {
          white-space: nowrap;
        }

        h1 {
          margin-inline: 0;
          margin-block: 16px;
          font-size: 20px;
          font-weight: 600;
        }

        a {
          color: var(--c-brand-1);
          font-weight: 500;
          text-decoration: underline;
          text-underline-offset: 2px;
          text-decoration: inherit;
          touch-action: manipulation;
        }

        a:hover {
          color: var(--c-brand-2);
          text-decoration: underline;
        }

        .menu {
          background-color: var(--c-bg-alt);
          border-bottom: 1px solid var(--c-divider);
          overflow-x: auto;
        }

        .menu-content {
          display: flex;
          flex-direction: row;
          align-items: center;
          gap: 16px;
          padding-inline: 16px;
          max-width: var(--max-content-width);
          margin-inline: auto;
        }

        .menu-item {
          display: flex;
          align-items: center;
          border-bottom: 2px solid transparent;
          height: 56px;
          padding-inline: 8px;
        }

        .menu-item a {
          display: flex;
          flex-direction: row;
          gap: 8px;
          align-items: center;
          color: var(--c-text-1);
          padding: 8px 10px;
          border-radius: 4px;
        }

        .menu-item a:hover {
          background-color: var(--c-bg-elv);
          text-decoration: none;
        }

        .menu-item.selected {
          border-bottom-color: var(--c-brand-1);
        }

        .project-name {
          font-weight: 600;
          font-size: 16px;
          margin-inline: 16px;
          color: var(--c-text-1);
          text-decoration: none;
        }

        main {
          flex-grow: 1;
          width: 100%;
          max-width: var(--max-content-width);
          margin: 16px auto;
        }

        .main-content {
          padding-inline: 16px;
        }

        footer {
          padding: 12px 16px;
          background-color: var(--c-bg-alt);
          border-top: 1px solid var(--c-divider);
          color: var(--c-text-3);
          font-size: 12px;
          text-align: center;
        }

        .header-container {
          container-type: scroll-state;
          position: sticky;
          top: 0;
        }

        .header-container {
          @container scroll-state(stuck: top) {
            header {
              border-top: none;
              border-top-left-radius: 0;
              border-top-right-radius: 0;
            }

            .goto-top {
              display: flex;
            }
          }
        }

        header {
          display: flex;
          flex-direction: row;
          align-items: center;
          min-height: var(--header-height);
          padding-inline: 16px;
          background: var(--c-bg-alt);
          border: 1px solid var(--c-border);
          border-top-left-radius: var(--border-radius);
          border-top-right-radius: var(--border-radius);
        }

        header h1 {
          word-break: break-all;
          font-weight: 600;
          font-size: 16px;
          margin: 0;
          padding: 0;
        }

        .header-ref {
          color: var(--c-text-2);
          border: 1px solid var(--c-border);
          border-radius: 6px;
          padding: 6px 10px;
          margin-right: 10px;
          margin-left: -6px;
        }

        header .path {
          font-size: 16px;
        }

        .breadcrumbs {
          display: flex;
          flex-direction: row;
          flex-wrap: wrap;
          gap: 6px;
          font-size: 16px;
        }

        .breadcrumbs a {
          word-break: break-all;
        }

        .goto-top {
          display: none;
          margin-left: auto;
          padding: 6px 10px;
          background: none;
          border: none;
          border-radius: 6px;
          gap: 4px;
          align-items: center;
          color: var(--c-text-1);
          cursor: pointer;
        }

        .goto-top:hover {
          background: var(--c-bg-elv);
        }
    </style>
    
    <style>
        .bg { background-color: #ffffff; }
.chroma { background-color: #ffffff; }
.chroma .ln:target { background-color: #e5e5e5 }
.chroma .lnt:target { background-color: #e5e5e5 }
.chroma .err { color: #f6f8fa; background-color: #82071e }
.chroma .lnlinks { outline: none; text-decoration: none; color: inherit }
.chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
.chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }
.chroma .hl { background-color: #e5e5e5 }
.chroma .lnt { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
.chroma .ln { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
.chroma .line { display: flex; }
.chroma .k { color: #cf222e }
.chroma .kc { color: #cf222e }
.chroma .kd { color: #cf222e }
.chroma .kn { color: #cf222e }
.chroma .kp { color: #cf222e }
.chroma .kr { color: #cf222e }
.chroma .kt { color: #cf222e }
.chroma .na { color: #1f2328 }
.chroma .nc { color: #1f2328 }
.chroma .no { color: #0550ae }
.chroma .nd { color: #0550ae }
.chroma .ni { color: #6639ba }
.chroma .nl { color: #990000; font-weight: bold }
.chroma .nn { color: #24292e }
.chroma .nx { color: #1f2328 }
.chroma .nt { color: #0550ae }
.chroma .nb { color: #6639ba }
.chroma .bp { color: #6a737d }
.chroma .nv { color: #953800 }
.chroma .vc { color: #953800 }
.chroma .vg { color: #953800 }
.chroma .vi { color: #953800 }
.chroma .vm { color: #953800 }
.chroma .nf { color: #6639ba }
.chroma .fm { color: #6639ba }
.chroma .s { color: #0a3069 }
.chroma .sa { color: #0a3069 }
.chroma .sb { color: #0a3069 }
.chroma .sc { color: #0a3069 }
.chroma .dl { color: #0a3069 }
.chroma .sd { color: #0a3069 }
.chroma .s2 { color: #0a3069 }
.chroma .se { color: #0a3069 }
.chroma .sh { color: #0a3069 }
.chroma .si { color: #0a3069 }
.chroma .sx { color: #0a3069 }
.chroma .sr { color: #0a3069 }
.chroma .s1 { color: #0a3069 }
.chroma .ss { color: #032f62 }
.chroma .m { color: #0550ae }
.chroma .mb { color: #0550ae }
.chroma .mf { color: #0550ae }
.chroma .mh { color: #0550ae }
.chroma .mi { color: #0550ae }
.chroma .il { color: #0550ae }
.chroma .mo { color: #0550ae }
.chroma .o { color: #0550ae }
.chroma .ow { color: #0550ae }
.chroma .p { color: #1f2328 }
.chroma .c { color: #57606a }
.chroma .ch { color: #57606a }
.chroma .cm { color: #57606a }
.chroma .c1 { color: #57606a }
.chroma .cs { color: #57606a }
.chroma .cp { color: #57606a }
.chroma .cpf { color: #57606a }
.chroma .gd { color: #82071e; background-color: #ffebe9 }
.chroma .ge { color: #1f2328 }
.chroma .gi { color: #116329; background-color: #dafbe1 }
.chroma .go { color: #1f2328 }
.chroma .gl { text-decoration: underline }
.chroma .w { color: #ffffff }


        [id] {
          scroll-margin-top: var(--header-height);
        }

        pre {
          border: 1px solid var(--c-border);
          border-top: none;
          border-bottom-left-radius: var(--border-radius);
          border-bottom-right-radius: var(--border-radius);
        }

        pre {
          margin: 0;
          padding: 8px 16px;
          overflow-x: auto;
          white-space: pre;
          word-spacing: normal;
          word-break: normal;
          word-wrap: normal;
          tab-size: 4;
          font-family: var(--font-family-mono), monospace;
        }

        pre > code {
          display: block;
          padding: 0 16px;
          width: fit-content;
          min-width: 100%;
          line-height: var(--code-line-height);
          font-size: var(--code-font-size);
        }

        .border {
          border: 1px solid var(--c-border);
          border-top: none;
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .binary-file {
          padding: 8px 16px;
          font-style: italic;
        }

        .image {
          padding: 8px 16px;
          text-align: center;
        }

        .image img {
          max-width: 100%;
          height: auto;
        }
    </style>

</head>
<body>

    <svg style="display: none" aria-hidden="true" focusable="false">
        <symbol id="dir" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/>
        </symbol>
        <symbol id="file" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/>
        </symbol>
        <symbol id="file-added" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073Zm4.48 3.758a.75.75 0 0 1 .755.745l.01 1.497h1.497a.75.75 0 0 1 0 1.5H9v1.507a.75.75 0 0 1-1.5 0V9.005l-1.502.01a.75.75 0 0 1-.01-1.5l1.507-.01-.01-1.492a.75.75 0 0 1 .745-.755Z"/>
        </symbol>
        <symbol id="file-modified" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1 1.75C1 .784 1.784 0 2.75 0h7.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073ZM8 3.25a.75.75 0 0 1 .75.75v1.5h1.5a.75.75 0 0 1 0 1.5h-1.5v1.5a.75.75 0 0 1-1.5 0V7h-1.5a.75.75 0 0 1 0-1.5h1.5V4A.75.75 0 0 1 8 3.25Zm-3 8a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Z"/>
        </symbol>
        <symbol id="file-deleted" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073Zm4.5 6h2.242a.75.75 0 0 1 0 1.5h-2.24l-2.254.015a.75.75 0 0 1-.01-1.5Z"/>
        </symbol>
        <symbol id="file-renamed" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-3.5a.75.75 0 0 1 0-1.5h3.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073H3.75a.25.25 0 0 0-.25.25v6.5a.75.75 0 0 1-1.5 0v-6.5Z"/>
            <path fill="currentColor"
                  d="m5.427 15.573 3.146-3.146a.25.25 0 0 0 0-.354L5.427 8.927A.25.25 0 0 0 5 9.104V11.5H.75a.75.75 0 0 0 0 1.5H5v2.396c0 .223.27.335.427.177Z"/>
        </symbol>
        <symbol id="arrow-top" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M3.47 7.78a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0l4.25 4.25a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018L9 4.81v7.44a.75.75 0 0 1-1.5 0V4.81L4.53 7.78a.75.75 0 0 1-1.06 0Z"></path>
        </symbol>
        <symbol id="commit" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
        </symbol>
        <symbol id="branch" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path>
        </symbol>
        <symbol id="tag" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
        </symbol>
        <symbol id="code" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
        </symbol>
    </svg>

<div class="menu">
    <div class="menu-content">
        <a href="../../../index.html" class="project-name">Agentic_Design_Patterns</a>
        <div class="menu-item selected">
            <a href="../../../blob/main/index.html">
                <svg aria-hidden="true" width="16" height="16">
                    <use xlink:href="#code"></use>
                </svg>
                Code
            </a>
        </div>
        <div class="menu-item ">
            <a href="../../../branches.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#branch"></use>
                </svg>
                Branches
            </a>
        </div>
        <div class="menu-item ">
            <a href="../../../tags.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#tag"></use>
                </svg>
                Tags
            </a>
        </div>
        <div class="menu-item ">
            <a href="../../../commits/main/index.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#commit"></use>
                </svg>
                Commits
            </a>
        </div>
    </div>
</div>
<main>
    <div class="main-content">
        
    
    <div class="header-container">
        <header>
            
                <div class="header-ref" aria-label="Ref">main</div>
            
            
                <nav class="breadcrumbs" aria-label="Breadcrumbs">
                    
                        
                        
                            <a href="./../index.html">Agentic_Design_Patterns</a>
                        
                    
                        
                            <div>/</div>
                        
                        
                            <a href="./index.html">notebooks</a>
                        
                    
                        
                            <div>/</div>
                        
                        
                            <h1>Chapter 11_ Goal Setting and Monitoring (Goal_Setting_Iteration).ipynb</h1>
                            
                        
                    
                </nav>
            
            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#arrow-top"></use>
                </svg>
                Top
            </button>
        </header>
    </div>

    
        <pre class="chroma"><code><span class="line"><span class="ln" id="L1"><a class="lnlinks" href="#L1">1</a></span><span class="cl">{&#34;nbformat&#34;:4,&#34;nbformat_minor&#34;:0,&#34;metadata&#34;:{&#34;colab&#34;:{&#34;provenance&#34;:[{&#34;file_id&#34;:&#34;1tqc7Xyu5jquL8d_GucVTPb_Vqgtyb0SU&#34;,&#34;timestamp&#34;:1748599837256}]},&#34;kernelspec&#34;:{&#34;name&#34;:&#34;python3&#34;,&#34;display_name&#34;:&#34;Python 3&#34;},&#34;language_info&#34;:{&#34;name&#34;:&#34;python&#34;}},&#34;cells&#34;:[{&#34;cell_type&#34;:&#34;code&#34;,&#34;source&#34;:[&#34;!pip install langchain_openai openai python-dotenv&#34;],&#34;metadata&#34;:{&#34;id&#34;:&#34;8hMvE7_ZNn0h&#34;},&#34;execution_count&#34;:null,&#34;outputs&#34;:[]},{&#34;cell_type&#34;:&#34;code&#34;,&#34;source&#34;:[&#34;# !pwd\n&#34;,&#34;# !ls .env&#34;],&#34;metadata&#34;:{&#34;colab&#34;:{&#34;base_uri&#34;:&#34;https://localhost:8080/&#34;},&#34;id&#34;:&#34;3oRBHC40N_EN&#34;,&#34;executionInfo&#34;:{&#34;status&#34;:&#34;ok&#34;,&#34;timestamp&#34;:1748592353291,&#34;user_tz&#34;:-600,&#34;elapsed&#34;:130,&#34;user&#34;:{&#34;displayName&#34;:&#34;Mahtab Syed&#34;,&#34;userId&#34;:&#34;13748578518773720760&#34;}},&#34;outputId&#34;:&#34;e40f3f90-4607-4a36-d2b3-473b26b0c3f7&#34;},&#34;execution_count&#34;:null,&#34;outputs&#34;:[{&#34;output_type&#34;:&#34;stream&#34;,&#34;name&#34;:&#34;stdout&#34;,&#34;text&#34;:[&#34;.env\n&#34;]}]},{&#34;cell_type&#34;:&#34;code&#34;,&#34;execution_count&#34;:null,&#34;metadata&#34;:{&#34;colab&#34;:{&#34;base_uri&#34;:&#34;https://localhost:8080/&#34;},&#34;id&#34;:&#34;XF9o0QmmNCRI&#34;,&#34;executionInfo&#34;:{&#34;status&#34;:&#34;ok&#34;,&#34;timestamp&#34;:1748592383295,&#34;user_tz&#34;:-600,&#34;elapsed&#34;:25881,&#34;user&#34;:{&#34;displayName&#34;:&#34;Mahtab Syed&#34;,&#34;userId&#34;:&#34;13748578518773720760&#34;}},&#34;outputId&#34;:&#34;7f0ff5e1-16c6-482d-cce3-d307b5005db5&#34;},&#34;outputs&#34;:[{&#34;output_type&#34;:&#34;stream&#34;,&#34;name&#34;:&#34;stdout&#34;,&#34;text&#34;:[&#34;üì° Initializing OpenAI LLM (gpt-4o)...\n&#34;,&#34;\n&#34;,&#34;üß† Welcome to the AI Code Generation Agent\n&#34;,&#34;\n&#34;,&#34;üéØ Use Case: Write code to find BinaryGap of a given positive integer\n&#34;,&#34;üéØ Goals:\n&#34;,&#34;  - Code simple to understand\n&#34;,&#34;  - Functionally correct\n&#34;,&#34;  - Handles comprehensive edge cases\n&#34;,&#34;  - Takes positive integer input only\n&#34;,&#34;  - prints the results with few examples\n&#34;,&#34;\n&#34;,&#34;=== üîÅ Iteration 1 of 5 ===\n&#34;,&#34;üìù Constructing prompt for code generation...\n&#34;,&#34;üöß Generating code...\n&#34;,&#34;\n&#34;,&#34;üßæ Generated Code:\n&#34;,&#34;--------------------------------------------------\n&#34;,&#34;def binary_gap(n):\n&#34;,&#34;    if n &lt;= 0:\n&#34;,&#34;        raise ValueError(\&#34;Input must be a positive integer.\&#34;)\n&#34;,&#34;    \n&#34;,&#34;    binary_representation = bin(n)[2:]\n&#34;,&#34;    max_gap = 0\n&#34;,&#34;    current_gap = 0\n&#34;,&#34;    found_one = False\n&#34;,&#34;\n&#34;,&#34;    for char in binary_representation:\n&#34;,&#34;        if char == &#39;1&#39;:\n&#34;,&#34;            if found_one:\n&#34;,&#34;                max_gap = max(max_gap, current_gap)\n&#34;,&#34;            current_gap = 0\n&#34;,&#34;            found_one = True\n&#34;,&#34;        else:\n&#34;,&#34;            current_gap += 1\n&#34;,&#34;\n&#34;,&#34;    return max_gap\n&#34;,&#34;\n&#34;,&#34;# Test examples\n&#34;,&#34;print(binary_gap(9))    # Output: 2 (binary: 1001)\n&#34;,&#34;print(binary_gap(529))  # Output: 4 (binary: 1000010001)\n&#34;,&#34;print(binary_gap(20))   # Output: 1 (binary: 10100)\n&#34;,&#34;print(binary_gap(15))   # Output: 0 (binary: 1111)\n&#34;,&#34;print(binary_gap(32))   # Output: 0 (binary: 100000)\n&#34;,&#34;--------------------------------------------------\n&#34;,&#34;\n&#34;,&#34;üì§ Submitting code for feedback review...\n&#34;,&#34;üîç Evaluating code against the goals...\n&#34;,&#34;\n&#34;,&#34;üì• Feedback Received:\n&#34;,&#34;--------------------------------------------------\n&#34;,&#34;The provided code snippet for the `binary_gap` function is quite clear and functionally correct for the problem it aims to solve. However, let&#39;s evaluate it against the specified goals:\n&#34;,&#34;\n&#34;,&#34;1. **Code Simplicity and Clarity**:\n&#34;,&#34;   - The code is simple and easy to understand. The use of descriptive variable names like `binary_representation`, `max_gap`, and `current_gap` contributes to its clarity.\n&#34;,&#34;   - The logic is straightforward, and the comments or additional documentation are unnecessary for this level of complexity.\n&#34;,&#34;\n&#34;,&#34;2. **Functional Correctness**:\n&#34;,&#34;   - The function correctly calculates the longest sequence of consecutive zeros that is surrounded by ones in the binary representation of a positive integer.\n&#34;,&#34;   - The use of Python&#39;s built-in `bin()` function to convert the number to its binary form is appropriate and efficient.\n&#34;,&#34;\n&#34;,&#34;3. **Edge Case Handling**:\n&#34;,&#34;   - The function raises a `ValueError` if the input is not a positive integer, which is a good practice for input validation.\n&#34;,&#34;   - It correctly handles cases where there are no gaps (e.g., all ones or trailing zeros without a closing one).\n&#34;,&#34;\n&#34;,&#34;4. **Test Coverage**:\n&#34;,&#34;   - The test cases provided cover a range of scenarios:\n&#34;,&#34;     - A typical case with a gap (e.g., `binary_gap(9)`).\n&#34;,&#34;     - A case with multiple gaps (e.g., `binary_gap(529)`).\n&#34;,&#34;     - A case with a single gap (e.g., `binary_gap(20)`).\n&#34;,&#34;     - A case with no gaps (e.g., `binary_gap(15)`).\n&#34;,&#34;     - A case with trailing zeros (e.g., `binary_gap(32)`).\n&#34;,&#34;   - Additional edge cases could be tested, such as the smallest positive integer (`binary_gap(1)`) and very large numbers to ensure performance.\n&#34;,&#34;\n&#34;,&#34;5. **Improvements**:\n&#34;,&#34;   - The input validation could be enhanced by explicitly checking if the input is an integer, although the current check (`n &lt;= 0`) implicitly ensures this to some extent.\n&#34;,&#34;   - Consider adding a docstring to the function to describe its purpose, parameters, and return value for better documentation.\n&#34;,&#34;\n&#34;,&#34;Overall, the code meets the goals well, with minor suggestions for improvement in documentation and additional edge case testing. Here&#39;s a slightly improved version with a docstring:\n&#34;,&#34;\n&#34;,&#34;```python\n&#34;,&#34;def binary_gap(n):\n&#34;,&#34;    \&#34;\&#34;\&#34;\n&#34;,&#34;    Calculate the longest sequence of consecutive zeros that is surrounded by ones\n&#34;,&#34;    in the binary representation of a positive integer.\n&#34;,&#34;\n&#34;,&#34;    Parameters:\n&#34;,&#34;    n (int): A positive integer.\n&#34;,&#34;\n&#34;,&#34;    Returns:\n&#34;,&#34;    int: The length of the longest binary gap.\n&#34;,&#34;    \n&#34;,&#34;    Raises:\n&#34;,&#34;    ValueError: If the input is not a positive integer.\n&#34;,&#34;    \&#34;\&#34;\&#34;\n&#34;,&#34;    if n &lt;= 0:\n&#34;,&#34;        raise ValueError(\&#34;Input must be a positive integer.\&#34;)\n&#34;,&#34;    \n&#34;,&#34;    binary_representation = bin(n)[2:]\n&#34;,&#34;    max_gap = 0\n&#34;,&#34;    current_gap = 0\n&#34;,&#34;    found_one = False\n&#34;,&#34;\n&#34;,&#34;    for char in binary_representation:\n&#34;,&#34;        if char == &#39;1&#39;:\n&#34;,&#34;            if found_one:\n&#34;,&#34;                max_gap = max(max_gap, current_gap)\n&#34;,&#34;            current_gap = 0\n&#34;,&#34;            found_one = True\n&#34;,&#34;        else:\n&#34;,&#34;            current_gap += 1\n&#34;,&#34;\n&#34;,&#34;    return max_gap\n&#34;,&#34;\n&#34;,&#34;# Test examples\n&#34;,&#34;print(binary_gap(9))    # Output: 2 (binary: 1001)\n&#34;,&#34;print(binary_gap(529))  # Output: 4 (binary: 1000010001)\n&#34;,&#34;print(binary_gap(20))   # Output: 1 (binary: 10100)\n&#34;,&#34;print(binary_gap(15))   # Output: 0 (binary: 1111)\n&#34;,&#34;print(binary_gap(32))   # Output: 0 (binary: 100000)\n&#34;,&#34;print(binary_gap(1))    # Output: 0 (binary: 1)\n&#34;,&#34;```\n&#34;,&#34;--------------------------------------------------\n&#34;,&#34;‚úÖ LLM confirms goals are met. Stopping iteration.\n&#34;,&#34;üíæ Saving final code to file...\n&#34;,&#34;‚úÖ Code saved to: /content/binarygap_7268.py\n&#34;]}],&#34;source&#34;:[&#34;# MIT License\n&#34;,&#34;# Copyright (c) 2025 Mahtab Syed\n&#34;,&#34;# https://www.linkedin.com/in/mahtabsyed/\n&#34;,&#34;# Permission is hereby granted, free of charge, to any person obtaining a copy\n&#34;,&#34;# of this software and associated documentation files (the \&#34;Software\&#34;), to deal\n&#34;,&#34;# in the Software without restriction, including without limitation the rights\n&#34;,&#34;# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n&#34;,&#34;# copies of the Software, and to permit persons to whom the Software is\n&#34;,&#34;# furnished to do so.\n&#34;,&#34;\n&#34;,&#34;\&#34;\&#34;\&#34;\n&#34;,&#34;Hands-On Code Example - Iteration 2\n&#34;,&#34;- To illustrate the Goal Setting and Monitoring pattern, we have an example using LangChain and OpenAI APIs:\n&#34;,&#34;\n&#34;,&#34;Objective: Build an AI Agent which can write code for a specified use case based on specified goals:\n&#34;,&#34;- Accepts a coding problem (use case) in code or can be as input.\n&#34;,&#34;- Accepts a list of goals (e.g., \&#34;simple\&#34;, \&#34;tested\&#34;, \&#34;handles edge cases\&#34;)  in code or can be input.\n&#34;,&#34;- Uses an LLM (like GPT-4o) to generate and refine Python code until the goals are met. (I am using max 5 iterations, this could be based on a set goal as well)\n&#34;,&#34;- To check if we have met our goals I am asking the LLM to judge this and answer just True or False which makes it easier to stop the iterations.\n&#34;,&#34;- Saves the final code in a .py file with a clean filename and a header comment.\n&#34;,&#34;\&#34;\&#34;\&#34;\n&#34;,&#34;\n&#34;,&#34;\n&#34;,&#34;import os\n&#34;,&#34;import random\n&#34;,&#34;import re\n&#34;,&#34;from pathlib import Path\n&#34;,&#34;from langchain_openai import ChatOpenAI\n&#34;,&#34;from dotenv import load_dotenv, find_dotenv\n&#34;,&#34;\n&#34;,&#34;# üîê Load environment variables\n&#34;,&#34;_ = load_dotenv(find_dotenv())\n&#34;,&#34;OPENAI_API_KEY = os.getenv(\&#34;OPENAI_API_KEY\&#34;)\n&#34;,&#34;if not OPENAI_API_KEY:\n&#34;,&#34;    raise EnvironmentError(\&#34;‚ùå Please set the OPENAI_API_KEY environment variable.\&#34;)\n&#34;,&#34;\n&#34;,&#34;# ‚úÖ Initialize OpenAI model\n&#34;,&#34;print(\&#34;üì° Initializing OpenAI LLM (gpt-4o)...\&#34;)\n&#34;,&#34;llm = ChatOpenAI(\n&#34;,&#34;    model=\&#34;gpt-4o\&#34;, # If you dont have access to got-4o use other OpenAI LLMs\n&#34;,&#34;    temperature=0.3,\n&#34;,&#34;    openai_api_key=OPENAI_API_KEY,\n&#34;,&#34;)\n&#34;,&#34;\n&#34;,&#34;# --- Utility Functions ---\n&#34;,&#34;\n&#34;,&#34;def generate_prompt(\n&#34;,&#34;    use_case: str, goals: list[str], previous_code: str = \&#34;\&#34;, feedback: str = \&#34;\&#34;\n&#34;,&#34;) -&gt; str:\n&#34;,&#34;    print(\&#34;üìù Constructing prompt for code generation...\&#34;)\n&#34;,&#34;    base_prompt = f\&#34;\&#34;\&#34;\n&#34;,&#34;You are an AI coding agent. Your job is to write Python code based on the following use case:\n&#34;,&#34;\n&#34;,&#34;Use Case: {use_case}\n&#34;,&#34;\n&#34;,&#34;Your goals are:\n&#34;,&#34;{chr(10).join(f\&#34;- {g.strip()}\&#34; for g in goals)}\n&#34;,&#34;\&#34;\&#34;\&#34;\n&#34;,&#34;    if previous_code:\n&#34;,&#34;        print(\&#34;üîÑ Adding previous code to the prompt for refinement.\&#34;)\n&#34;,&#34;        base_prompt += f\&#34;\\nPreviously generated code:\\n{previous_code}\&#34;\n&#34;,&#34;    if feedback:\n&#34;,&#34;        print(\&#34;üìã Including feedback for revision.\&#34;)\n&#34;,&#34;        base_prompt += f\&#34;\\nFeedback on previous version:\\n{feedback}\\n\&#34;\n&#34;,&#34;\n&#34;,&#34;    base_prompt += \&#34;\\nPlease return only the revised Python code. Do not include comments or explanations outside the code.\&#34;\n&#34;,&#34;    return base_prompt\n&#34;,&#34;\n&#34;,&#34;def get_code_feedback(code: str, goals: list[str]) -&gt; str:\n&#34;,&#34;    print(\&#34;üîç Evaluating code against the goals...\&#34;)\n&#34;,&#34;    feedback_prompt = f\&#34;\&#34;\&#34;\n&#34;,&#34;You are a Python code reviewer. A code snippet is shown below. Based on the following goals:\n&#34;,&#34;\n&#34;,&#34;{chr(10).join(f\&#34;- {g.strip()}\&#34; for g in goals)}\n&#34;,&#34;\n&#34;,&#34;Please critique this code and identify if the goals are met. Mention if improvements are needed for clarity, simplicity, correctness, edge case handling, or test coverage.\n&#34;,&#34;\n&#34;,&#34;Code:\n&#34;,&#34;{code}\n&#34;,&#34;\&#34;\&#34;\&#34;\n&#34;,&#34;    return llm.invoke(feedback_prompt)\n&#34;,&#34;\n&#34;,&#34;def goals_met(feedback_text: str, goals: list[str]) -&gt; bool:\n&#34;,&#34;    \&#34;\&#34;\&#34;\n&#34;,&#34;    Uses the LLM to evaluate whether the goals have been met based on the feedback text.\n&#34;,&#34;    Returns True or False (parsed from LLM output).\n&#34;,&#34;    \&#34;\&#34;\&#34;\n&#34;,&#34;    review_prompt = f\&#34;\&#34;\&#34;\n&#34;,&#34;You are an AI reviewer.\n&#34;,&#34;\n&#34;,&#34;Here are the goals:\n&#34;,&#34;{chr(10).join(f\&#34;- {g.strip()}\&#34; for g in goals)}\n&#34;,&#34;\n&#34;,&#34;Here is the feedback on the code:\n&#34;,&#34;\\\&#34;\\\&#34;\\\&#34;\n&#34;,&#34;{feedback_text}\n&#34;,&#34;\\\&#34;\\\&#34;\\\&#34;\n&#34;,&#34;\n&#34;,&#34;Based on the feedback above, have the goals been met?\n&#34;,&#34;\n&#34;,&#34;Respond with only one word: True or False.\n&#34;,&#34;\&#34;\&#34;\&#34;\n&#34;,&#34;    response = llm.invoke(review_prompt).content.strip().lower()\n&#34;,&#34;    return response == \&#34;true\&#34;\n&#34;,&#34;\n&#34;,&#34;def clean_code_block(code: str) -&gt; str:\n&#34;,&#34;    lines = code.strip().splitlines()\n&#34;,&#34;    if lines and lines[0].strip().startswith(\&#34;```\&#34;):\n&#34;,&#34;        lines = lines[1:]\n&#34;,&#34;    if lines and lines[-1].strip() == \&#34;```\&#34;:\n&#34;,&#34;        lines = lines[:-1]\n&#34;,&#34;    return \&#34;\\n\&#34;.join(lines).strip()\n&#34;,&#34;\n&#34;,&#34;def add_comment_header(code: str, use_case: str) -&gt; str:\n&#34;,&#34;    comment = f\&#34;# This Python program implements the following use case:\\n# {use_case.strip()}\\n\&#34;\n&#34;,&#34;    return comment + \&#34;\\n\&#34; + code\n&#34;,&#34;\n&#34;,&#34;def to_snake_case(text: str) -&gt; str:\n&#34;,&#34;    text = re.sub(r\&#34;[^a-zA-Z0-9 ]\&#34;, \&#34;\&#34;, text)\n&#34;,&#34;    return re.sub(r\&#34;\\s+\&#34;, \&#34;_\&#34;, text.strip().lower())\n&#34;,&#34;\n&#34;,&#34;def save_code_to_file(code: str, use_case: str) -&gt; str:\n&#34;,&#34;    print(\&#34;üíæ Saving final code to file...\&#34;)\n&#34;,&#34;\n&#34;,&#34;    summary_prompt = (\n&#34;,&#34;        f\&#34;Summarize the following use case into a single lowercase word or phrase, \&#34;\n&#34;,&#34;        f\&#34;no more than 10 characters, suitable for a Python filename:\\n\\n{use_case}\&#34;\n&#34;,&#34;    )\n&#34;,&#34;    raw_summary = llm.invoke(summary_prompt).content.strip()\n&#34;,&#34;    short_name = re.sub(r\&#34;[^a-zA-Z0-9_]\&#34;, \&#34;\&#34;, raw_summary.replace(\&#34; \&#34;, \&#34;_\&#34;).lower())[:10]\n&#34;,&#34;\n&#34;,&#34;    random_suffix = str(random.randint(1000, 9999))\n&#34;,&#34;    filename = f\&#34;{short_name}_{random_suffix}.py\&#34;\n&#34;,&#34;    filepath = Path.cwd() / filename\n&#34;,&#34;\n&#34;,&#34;    with open(filepath, \&#34;w\&#34;) as f:\n&#34;,&#34;        f.write(code)\n&#34;,&#34;\n&#34;,&#34;    print(f\&#34;‚úÖ Code saved to: {filepath}\&#34;)\n&#34;,&#34;    return str(filepath)\n&#34;,&#34;\n&#34;,&#34;# --- Main Agent Function ---\n&#34;,&#34;\n&#34;,&#34;def run_code_agent(use_case: str, goals_input: str, max_iterations: int = 5) -&gt; str:\n&#34;,&#34;    goals = [g.strip() for g in goals_input.split(\&#34;,\&#34;)]\n&#34;,&#34;\n&#34;,&#34;    print(f\&#34;\\nüéØ Use Case: {use_case}\&#34;)\n&#34;,&#34;    print(\&#34;üéØ Goals:\&#34;)\n&#34;,&#34;    for g in goals:\n&#34;,&#34;        print(f\&#34;  - {g}\&#34;)\n&#34;,&#34;\n&#34;,&#34;    previous_code = \&#34;\&#34;\n&#34;,&#34;    feedback = \&#34;\&#34;\n&#34;,&#34;\n&#34;,&#34;    for i in range(max_iterations):\n&#34;,&#34;        print(f\&#34;\\n=== üîÅ Iteration {i + 1} of {max_iterations} ===\&#34;)\n&#34;,&#34;        prompt = generate_prompt(use_case, goals, previous_code, feedback if isinstance(feedback, str) else feedback.content)\n&#34;,&#34;\n&#34;,&#34;        print(\&#34;üöß Generating code...\&#34;)\n&#34;,&#34;        code_response = llm.invoke(prompt)\n&#34;,&#34;        raw_code = code_response.content.strip()\n&#34;,&#34;        code = clean_code_block(raw_code)\n&#34;,&#34;        print(\&#34;\\nüßæ Generated Code:\\n\&#34; + \&#34;-\&#34; * 50 + f\&#34;\\n{code}\\n\&#34; + \&#34;-\&#34; * 50)\n&#34;,&#34;\n&#34;,&#34;        print(\&#34;\\nüì§ Submitting code for feedback review...\&#34;)\n&#34;,&#34;        feedback = get_code_feedback(code, goals)\n&#34;,&#34;        feedback_text = feedback.content.strip()\n&#34;,&#34;        print(\&#34;\\nüì• Feedback Received:\\n\&#34; + \&#34;-\&#34; * 50 + f\&#34;\\n{feedback_text}\\n\&#34; + \&#34;-\&#34; * 50)\n&#34;,&#34;\n&#34;,&#34;        if goals_met(feedback_text, goals):\n&#34;,&#34;            print(\&#34;‚úÖ LLM confirms goals are met. Stopping iteration.\&#34;)\n&#34;,&#34;            break\n&#34;,&#34;\n&#34;,&#34;        print(\&#34;üõ†Ô∏è Goals not fully met. Preparing for next iteration...\&#34;)\n&#34;,&#34;        previous_code = code\n&#34;,&#34;\n&#34;,&#34;    final_code = add_comment_header(code, use_case)\n&#34;,&#34;    return save_code_to_file(final_code, use_case)\n&#34;,&#34;\n&#34;,&#34;# --- CLI Test Run ---\n&#34;,&#34;\n&#34;,&#34;if __name__ == \&#34;__main__\&#34;:\n&#34;,&#34;    print(\&#34;\\nüß† Welcome to the AI Code Generation Agent\&#34;)\n&#34;,&#34;\n&#34;,&#34;    # Example 1\n&#34;,&#34;    use_case_input = \&#34;Write code to find BinaryGap of a given positive integer\&#34;\n&#34;,&#34;    goals_input = \&#34;Code simple to understand, Functionally correct, Handles comprehensive edge cases, Takes positive integer input only, prints the results with few examples\&#34;\n&#34;,&#34;    run_code_agent(use_case_input, goals_input)\n&#34;,&#34;\n&#34;,&#34;    # Example 2\n&#34;,&#34;    # use_case_input = \&#34;Write code to count the number of files in current directory and all its nested sub directories, and print the total count\&#34;\n&#34;,&#34;    # goals_input = (\n&#34;,&#34;    #     \&#34;Code simple to understand, Functionally correct, Handles comprehensive edge cases, Ignore recommendations for performance, Ignore recommendations for test suite use like unittest or pytest\&#34;\n&#34;,&#34;    # )\n&#34;,&#34;    # run_code_agent(use_case_input, goals_input)\n&#34;,&#34;\n&#34;,&#34;\n&#34;,&#34;    # Example 3\n&#34;,&#34;    # use_case_input = \&#34;Write code which takes a command line input of a word doc or docx file and opens it and counts the number of words, and characters in it and prints all\&#34;\n&#34;,&#34;    # goals_input = \&#34;Code simple to understand, Functionally correct, Handles edge cases\&#34;\n&#34;,&#34;    # run_code_agent(use_case_input, goals_input)\n&#34;]}]}</span></span></code></pre>
    

    </div>
</main>
<footer>
    Generated by <a href="https://github.com/antonmedv/gitmal">Gitmal</a>
</footer>
</body>
</html>
